//-
  ztncui - ZeroTier network controller UI
  Copyright (C) 2017-2021  TsingWin (http://www.tsingwin.net)
  Licensed under GPLv3 - see LICENSE for details.

mixin nav_item(name, displayName, href)
  li(class=((navigate && navigate.active === name) ? 'active' : ''))
    a(href=href) #{displayName}

mixin json_value(value)
  - if ((!!value ) && (value.constructor == Object || value.constructor == Array))
      code(style='white-space: pre;')= JSON.stringify(value, null, 2)
  - else
      code= value

doctype html
html(lang='en')
  head
    title= title
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    link(rel='stylesheet', href='/bscss/bootstrap.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
    script(src='/jqjs/jquery.min.js')
    script(src='/bsjs/bootstrap.min.js')
  body
    nav.navbar.navbar-inverse.navbar-fixed-top
      .container-fluid
        .navbar-header
          button.navbar-toggle(type='button' data-toggle='collapse' data-target='#BarNav')
            span.icon-bar
            span.icon-bar
            span.icon-bar
          a.navbar-brand(href='http://www.tsingwin.net' target='_blank')
            img(src='/images/key-logo.svg' alt='TsingWin logo' height='25px' width='25px' style='display: inline')
            |  TsingWin
        .collapse.navbar-collapse(id='BarNav')
          ul.nav.navbar-nav
            block nav_items
          ul.nav.navbar-nav.navbar-right
            li
              a(href=lang === 'en' ? '/lang/zh' : '/lang/en' title=t.lang.switch_to)
                = t.lang.toggle
            if !user
              li
                a(href='/users/register')
                  span.glyphicon.glyphicon-user
                  |  #{t.nav.register}
            li
              block nav_login
                if user
                  a(href='/logout')
                    span.glyphicon.glyphicon-log-out
                    |  #{t.nav.logout}
                else
                  a(href='/login')
                    span.glyphicon.glyphicon-log-in
                    |  #{t.nav.login}
    block body_content
    
    footer.footer(style='text-align: center; margin-top: 50px; padding: 20px 0; color: #333;')
      p(style='margin: 0;') 深圳行胜数字技术有限公司
